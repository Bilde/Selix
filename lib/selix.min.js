// selix - github.com/bilde - MIT License
!function(){var a,b,c,d,e,f,g;c=function(a,b){return a.value.slice(0,b).split("\r\n").length-1},a=function(a){var b,d,e,f;return"number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd?{start:a.selectionStart,end:a.selectionEnd}:document.selection&&document.selection.createRange&&a.createTextRange?(b=a.createTextRange(),b.moveToBookmark(document.selection.createRange().getBookmark()),e=a.createTextRange(),e.collapse(!1),b.compareEndPoints("StartToEnd",e)>=0?f=d=a.value.length:(f=-b.moveStart("character",-a.value.length),f+=c(a,f),b.compareEndPoints("EndToEnd",e)>=0?d=a.value.length:(d=-b.moveEnd("character",-a.value.length),d+=c(a,d))),{start:f,end:d}):void 0},e=function(a,b,d){var e;return null==d&&(d=b),"number"==typeof a.selectionStart&&"number"==typeof a.selectionEnd?(a.selectionStart=b,a.selectionEnd=d):document.selection&&document.selection.createRange&&a.createTextRange?(e=a.createTextRange(),e.collapse(!0),e.moveEnd("character",d-c(a,d)),e.moveStart("character",b-c(a,b)),e.select()):void 0},b=function(b){var c;return c=a(b),b.value.slice(c.start,c.end)},f=function(b,c){var d;return d=a(b),b.value=b.value.slice(0,d.start)+c+b.value.slice(d.end)},g=function(c,d,g){var h,i,j;return h=a(c),j=b(c),f(c,d+j+g),i=h.start+d.length,e(c,i,i+j.length)},d={getCaret:a,setCaret:e,getText:b,setText:f,wrap:g},"undefined"!=typeof exports?module.exports=d:"undefined"!=typeof window&&(window.selix=d)}.call(this);